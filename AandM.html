<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Scanner</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        video, canvas { display: block; margin: 10px auto; }
        #result { margin-top: 20px; }
        #photo { max-width: 300px; }
    </style>
</head>
<body>
    <h1>Scan an Image</h1>
    <video id="camera" width="300" height="250" autoplay></video>
    <button onclick="captureImage()">Scan</button>
    <canvas id="canvas" width="300" height="250" style="display: none;"></canvas>
    <div id="result">
        <img id="photo" src="" style="display: none;">
        <audio id="audio" controls style="display: none;"></audio>
    </div>
    <script src="script.js"></script>
</body>
</html>
<style>/* General Styles */
body {
    text-align: center;
    font-family: 'Cursive', sans-serif;
    background: linear-gradient(to right, #ff758c, #ff7eb3);
    color: white;
    margin: 0;
    padding: 0;
}

/* Header */
h1 {
    font-size: 2.5em;
    text-shadow: 2px 2px 5px #ff4d6d;
    margin-top: 20px;
}

/* Video & Canvas */
video, canvas {
    display: block;
    margin: 20px auto;
    border: 5px solid white;
    border-radius: 15px;
    box-shadow: 0px 4px 10px rgba(255, 0, 51, 0.5);
}

/* Scan Button */
button {
    background: #ff4d6d;
    border: none;
    padding: 15px 30px;
    font-size: 18px;
    color: white;
    border-radius: 30px;
    cursor: pointer;
    transition: 0.3s;
    box-shadow: 0px 4px 10px rgba(255, 0, 51, 0.5);
}

button:hover {
    background: #ff1c4b;
    transform: scale(1.1);
}

/* Result Section */
#result {
    margin-top: 20px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 15px;
    display: inline-block;
    box-shadow: 0px 4px 10px rgba(255, 0, 51, 0.5);
}

/* Photo Display */
#photo {
    max-width: 250px;
    display: block;
    margin: 10px auto;
    border: 5px solid white;
    border-radius: 15px;
    box-shadow: 0px 4px 10px rgba(255, 0, 51, 0.5);
}

/* Audio Player */
#audio {
    display: block;
    margin: 10px auto;
    border-radius: 15px;
}

/* Love Theme Background */
body::after {
    content: "❤️";
    font-size: 50px;
    position: absolute;
    top: 20px;
    right: 20px;
    opacity: 0.8;
}
</style><script>let video = document.getElementById("camera");
let canvas = document.getElementById("canvas");
let ctx = canvas.getContext("2d");
let photo = document.getElementById("photo");
let audio = document.getElementById("audio");

// Start camera
navigator.mediaDevices.getUserMedia({ video: true })
    .then(stream => { video.srcObject = stream; })
    .catch(err => console.error("Camera access denied:", err));

// Load TensorFlow MobileNet model
let model;
async function loadModel() {
    model = await mobilenet.load();
}
loadModel();

// Capture image
function captureImage() {
    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
    recognizeImage();
}

// Recognize image
async function recognizeImage() {
    const imgTensor = tf.browser.fromPixels(canvas);
    const predictions = await model.classify(imgTensor);
    imgTensor.dispose();

    let detected = predictions[0].className.toLowerCase();

    if (detected.includes("image1")) {
        displayResult("photo1.jpg", "song1.mp3");
    } else if (detected.includes("image2")) {
        displayResult("photo2.jpg", "song2.mp3");
    } else {
        alert("No match found!");
    }
}

// Display result
function displayResult(photoSrc, audioSrc) {
    photo.src = photoSrc;
    photo.style.display = "block";
    audio.src = audioSrc;
    audio.style.display = "block";
    audio.play();
}
</script>